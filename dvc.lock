schema: '2.0'
stages:
  extract:
    cmd: python scripts/stages/extract.py --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: a5c69a4aa422bcf70578b8e02b99de4e
      size: 181
    - path: src/pbs/etl/extraction.py
      md5: 36df00c284f0a3076904e3f8a4483fa5
      size: 4564
    params:
      params.yaml:
        extract:
          output_dir: data/input
  extract@credit:
    cmd: python scripts/stages/extract.py --name=credit --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/credit.parquet
      md5: bb1738093bbfc898673146109f9e6262
      size: 3059972
  extract@ishort:
    cmd: python scripts/stages/extract.py --name=ishort --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/ishort.parquet
      md5: 0e7edfa83a16427c066a6562ac83ce10
      size: 38801
  extract@hpi:
    cmd: python scripts/stages/extract.py --name=hpi --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/hpi.parquet
      md5: cda565657cbed01461f83a538d40b721
      size: 57063
  extract@ilong:
    cmd: python scripts/stages/extract.py --name=ilong --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/ilong.parquet
      md5: de0661d443d6cafddc99b4f3d280f4f6
      size: 45492
  extract@cpi:
    cmd: python scripts/stages/extract.py --name=cpi --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/cpi.parquet
      md5: 66fbcea67e3260290105d8eda86c5789
      size: 102218
  prepare:
    cmd: python scripts/stages/prepare.py --input-dir=data/input --output-path=data/prepared/data.parquet
    deps:
    - path: data/input
      md5: feaae458c142529be1d9276060ff699b.dir
      size: 3307411
      nfiles: 7
    - path: scripts/stages/prepare.py
      md5: 027e9f8bc1a8448d5b9a61fc33ab061b
      size: 211
    - path: src/pbs/etl/preparation.py
      md5: cc7fa1960608c620a6014e3c8c5028a3
      size: 4549
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
        prepare:
          output_path: data/prepared/data.parquet
    outs:
    - path: data/prepared/data.parquet
      md5: 0b485b5743da148dcbda89e7b2cda26a
      size: 131691
  extract@crises:
    cmd: python scripts/stages/extract.py --name=crises --output-dir=data/input
    deps:
    - path: scripts/stages/extract.py
      md5: 91be9b73afefb33528d3dd20de846a7b
      size: 198
    - path: src/pbs/etl/extraction.py
      md5: d17457ce33d7b5881ee7ff6e5bd6a615
      size: 4769
    params:
      params.yaml:
        extract:
          output_dir: data/input
          name:
          - credit
          - hpi
          - cpi
          - ishort
          - ilong
          - crises
    outs:
    - path: data/input/crises.parquet
      md5: 1d899d15b884108e84b1278f0232bc2a
      size: 3776
  split:
    cmd: python scripts/stages/split.py --input-path=data/prepared/data.parquet --output-path=data/split/data.parquet
    deps:
    - path: data/prepared/data.parquet
      md5: 0b485b5743da148dcbda89e7b2cda26a
      size: 131691
    - path: scripts/stages/split.py
      md5: d7819b8359b0a25c23a7224dc7c04801
      size: 214
    - path: src/pbs/etl/split.py
      md5: 64cb7915bbe9dd8908f17eadbd8c9cd6
      size: 1258
    params:
      params.yaml:
        prepare:
          output_path: data/prepared/data.parquet
        split:
          output_path: data/split/data.parquet
    outs:
    - path: data/split/data.parquet
      md5: f8fcdec405aafe7d5e38d42b0f2eeb42
      size: 47941
